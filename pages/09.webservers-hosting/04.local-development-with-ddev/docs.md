---
title: 'Локальная разработка с ddev'
---

[ddev](https://ddev.readthedocs.io) это инструмент разработки PHP с открытым исходным кодом, построенный на основе Docker. Он может легко создавать локальные среды хостинга, а его конфигурации серверов могут управляться версиями. Изначально предназначенный для разработки Drupal, ddev легко может размещать сайты Drupal, Wordpress и GravCMS. Поскольку он основан на Docker, ddev совместим с Windows, Mac и Linux.


## Установка ddev

Пожалуйста, смотрите [официальную документацию ddev](https://ddev.readthedocs.io/en/latest/) для получения самых последних инструкций по установке.

## Конфигурация

* Поместите файлы Grav в папку на главной машине (/home/USER/projects/grav).
* В вашем терминале компакт-диск в эту папку `cd /home/USER/projects/grav`
* Введите `ddev config`. На экране появятся следующие подсказки:
    * Имя проекта (по умолчанию используется имя папки \[GRAV_ROOT]
    * Путь к Docroot (по умолчанию используется \[GRAV_ROOT])
    * Тип проекта (используйте тип `php` для этой опции)
* запустите `ddev start` из папки \[GRAV_ROOT].
* Позвольте ddev построить необходимые ему контейнеры. Для внесения изменений в локальные хосты могут потребоваться учетные данные Root/Sudo.

## Замечание о ddev и плагине Feed

По умолчанию ddev использует nginx, а конфигурации по умолчанию от 18 сентября 2020 года достаточно для большинства случаев использования. Однако, если вы планируете использовать [плагин Feed](https://github.com/getgrav/grav-plugin-feed), вам необходимо внести следующие изменения в конфигурацию:
  * Измените \[GRAV_ROOT]/.ddev/nginx_full/nginx-site.conf
  * Удалите строку 3, чтобы сделать изменения постоянными (`#ddev-generated`)
  * Удалите строки 58-62, который принудительно кэширует RSS и Atom (`# Expire rules for static content ...`)
  * Запустите `ddev restart`, чтобы загрузить новую конфигурацию nginx.

Невыполнение этих изменений приведет к ошибке HTTP 404 при попытках загрузить RSS или Atom-каналы.

## Использование ddev

Выполните эти команды из \[GRAV_ROOT] на главной машине:
* `ddev describe` - Просмотр всех доступных служб
* `ddev ssh` - Подключает оболочку к веб-серверу в корне документа
* `ddev exec params` - Выполняет параметры в корне документа (например, `ddev exec bin/grav clear` чтобы очистить кэш)

> Мне нужно ввести \[вставить плагин/ тему здесь]. Как получить доступ к `bin/gpm`?

Из \[GRAV_ROOT] введите `ddev ssh`, и вы будете подключены к веб-серверу в docroot. Отсюда вы можете запустить любую команду php (`composer`, `bin/gpm`, `bin/grav` и т. д.).

> Где я могу редактировать свои файлы?

Редактор на хост-компьютере может редактировать файлы по адресу \[GRAV_ROOT]. Изменения будут автоматически отражаться в контейнере ddev. Изменения, выполненные в контейнере (например, `bin/gpm install admin`), будут отражены на хост-машине.
