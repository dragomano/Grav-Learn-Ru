---
title: Объект Flex
page-toc:
  active: true
taxonomy:
    category: docs
---

# Рендеринг объекта

## render()

`render( [layout], [context] ): Block` Визуализировать объект.

Параметры:
- **layout** Название макета  (`string`)
- **context** Дополнительные переменные, которые можно использовать внутри файла шаблона Twig (`array`)

Возвращает:
- **Block** (`object`) Класс HtmlBlock, содержащий выходные данные

!!! **ПРИМЕЧАНИЕ:** В twig есть тег `{% render %}` , который следует использовать вместо прямого вызова метода. Это позволит JS/CSS активам объекта работать должным образом.

[ui-tabs]
[ui-tab title="Twig"]
```twig
{% set contact = grav.get('flex').object('gizwsvkyo5xtms2s', 'contacts') %}

{% render contact layout: 'details' with { my_variable: true } %}
```
[/ui-tab]
[ui-tab title="PHP"]
```php
use Grav\Common\Grav;
use Grav\Framework\ContentBlock\HtmlBlock;
use Grav\Framework\Flex\Interfaces\FlexObjectInterface;

/** @var FlexObjectInterface|null $collection */
$object = Grav::instance()->get('flex')->getObject('gizwsvkyo5xtms2s', 'contacts');
if ($object) {

    /** @var HtmlBlock $block */
    $block = $object->render('details', ['my_variable' => true]);

}
```
[/ui-tab]
[/ui-tabs]

# Другие методы

## getKey()

`getKey(): string` Получить ключ объекта.

Возвращает:
- `string` Ключ объекта

## hasKey()

`hasKey(): bool` Возвращает `true`, если ключ объекта был установлен.

Возвращает:
- `true` если у объекта есть ключ, `false` в противном случае

## getFlexType()

`getFlexType(): string` Получить тип объекта.

Возвращает:
- `string` Имя каталога Flex, в который входит объект

## hasProperty()

`hasProperty( property ): bool` Возвращает `true`, если свойство объекта было определено и имеет значение (не null).

Параметры:
- **property** Имя свойства (`string`)

Возвращает:
- `true` если свойство имеет значение, `false` в противном случае.

## getProperty()

`getProperty( property, default ): mixed` Возвращает значение свойства объекта.

Параметры:
- **property** Имя свойства (`string`)

Возвращает:
- `mixed` Значение свойства
- `null` если свойство не определено или не имеет значения

## setProperty()

`setProperty( property, value ): Object` Установить новое значение для свойства объекта.

Параметры:
- **property** Имя свойства (`string`)
- **value** Новое значение (`mixed`)

Возвращает:
- **Object** (`object`) Объект для связывания вызовов методов

!! **ПРЕДУПРЕЖДЕНИЕ:** Этот метод изменяет экземпляр объекта, совместно используемый всеми коллекциями. Если это не предусмотрено, «клонируйте» (`clone`) объект перед использованием этого метода.

## defProperty()

`defProperty( property, default ): Object` Задать значение по умолчанию для свойства объекта.

Параметры:
- **property** Имя свойства (`string`)
- **default** Значение по умолчанию (`mixed`)

Возвращает:
- **Object** (`object`) Объект для связывания вызовов методов

!! **ПРЕДУПРЕЖДЕНИЕ:** Этот метод изменяет экземпляр объекта, совместно используемый всеми коллекциями. Если это не предусмотрено, «клонируйте» (`clone`) объект перед использованием этого метода.

## unsetProperty()

`unsetProperty( property ): Object` Удалить значение свойства объекта.

Параметры:
- **property** Имя свойства (`string`)

Возвращает:
- **Object** (`object`) Объект для связывания вызовов методов

!! **WARNING:** Этот метод изменяет экземпляр объекта, совместно используемый всеми коллекциями. Если это не предусмотрено, «клонируйте» (`clone`) объект перед использованием этого метода.

## isAuthorized()

`isAuthorized( action, [scope], [user] ): bool | null` Проверить, авторизован ли пользователь для действия.

Параметры:
- **action** (`string`)
  - Одно из списка: `create`, `read`, `update`, `delete`, `list`
- **scope** Не обязательно (`string`)
  - Обычно либо `admin`, либо `site`
- **user** Не обязательный объект пользователя (`object`)

Возвращает:
- `true` Разрешить действие
- `false` Запретить действие
- `null` Не установлен (действует как Запретить)

!!! **Примечание:** Есть два значения deny: denied (false), not set (null). Это позволяет объединить несколько правил в цепочку, если предыдущие правила не совпали.

## getFlexDirectory()

`getFlexDirectory(): Directory`

Возвращает:
- **[Directory](/advanced/flex/using/directory)** (`object`)

## getTimestamp()

`getTimestamp(): int` Получить метку времени последнего изменения для объекта.

Возвращает:
- `int` Метка времени (в UNIX-формате).

## search()

`search(string, [properties], [options] ): float` Поиск строки из объекта, возвращает вес от 0 до 1.

Параметры:
- **string** Строка для поиска (`string`)
- **properties** Свойства для поиска, если значение равно null (или не указано), используйте значения по умолчанию (`array` или `null`)
- **options** Дополнительные параметры, используемые при поиске (`array`)
  - starts_with: `bool`
  - ends_with: `bool`
  - contains: `bool`
  - case_sensitive: `bool`

Возвращает:
- `float` Вес поиска от 0 до 1, используется для упорядочивания результатов.
- `0` Объект не соответствует поиску

!!! **Примечание:** Если вы переопределите эту функцию, убедитесь, что вы возвращаете значение в диапазоне 0...1!

## getFlexKey()

`getFlexKey(): string` Получить уникальный ключ для объекта.

Возвращает:
- `string` **Ключ Flex** объекта

Ключи Flex можно использовать, не зная, к какому каталогу принадлежит объект.

## getStorageKey()

`getStorageKey(): string` Получить уникальный ключ хранилища (в каталоге), который используется для определения имени файла или идентификатора базы данных.

Возвращает:
- `string` **Ключ хранилища** объекта

## exists()

`exists(): bool` Возвращает истину, если объект существует в хранилище.

Возвращает:
- `true` Объект существует в хранилище
- `false` Объект не был сохранен

## update()

`update( data, files ): Object` Обновляет объект в памяти.

Параметры:
- **data** (`array`) Вложенные массивы свойств с их значениями
- **files** (`array`) Массив объектов `Psr\Http\Message\UploadedFileInterface`

Возвращает:
- **Object** (`object`) Объект для связывания вызовов методов

! **TIP:** После вызова этого метода необходимо сохранить объект.

## create()

`create( [key] ): Object` Создать новый объект в хранилище.

Параметры:
- **key** (`string`) Дополнительный ключ

Возвращает:
- **Object** (`object`) Сохраненный объект

## createCopy()

`createCopy( [key] ): Object` Создать новый объект из текущего и сохранить его в хранилище.

Параметры:
- **key** (`string`) Дополнительный ключ

Возвращает:
- **Object** (`object`) Сохраненный объект

## save()

`save(): Object` Сохранить объект в хранилище.

Возвращает:
- **Object** (`object`) Сохраненный объект

## delete()

`delete(): Object` Удалить объект из хранилища.

Возвращает:
- **Object** (`object`) Удаленный объект

## getBlueprint()

`getBlueprint( [name] ): Blueprint` Возвращает чертеж объекта.

Параметры:
- **name** (`string`) Необязательное имя для чертежа

Возвращает:
- **Blueprint** (`object`)

## getForm()

`getForm( [name], [options] ): Form` Возвращает экземпляр формы для объекта.

Параметры:
- **name** (`string`) Необязательное имя для формы
- **options** (`array`) Необязательные параметры формы

Возвращает:
- **Form** (`object`)

## getDefaultValue()

`getDefaultValue( name, [separator] ): mixed` Возвращает значение по умолчанию, подходящее для использования в форме для данного свойства.

Параметры:
- **name** (`string`) Имя свойства
- **separator** (`string`) Необязательный символ-разделитель для вложенных свойств, по умолчанию `.` (точка)

Возвращает:
- `mixed` Значение свойства по умолчанию

## getDefaultValues()

`getDefaultValues(): array` Возвращает значения по умолчанию, подходящие для использования в форме для данного свойства.

Возвращает:
- `array` Все значения по умолчанию

## getFormValue()

`getFormValue( name, [default], [separator] ): mixed` Возвращает необработанное значение, подходящее для использования в форме для данного свойства.

Параметры:
- **name** (`string`) Имя свойства
- **default** (`mixed`) Необязательное значение поля по умолчанию, `null` если не задано
- **separator** (`string`) Необязательный символ-разделитель для вложенных свойств, по умолчанию `.` (точка)

Возвращает:
- `mixed` Значение поля формы

## triggerEvent()

`triggerEvent( name, [Event] ): Object` Запустить событие по вашему выбору.

Параметры:
- **name** (`string`) Название события
- **Event** (`object`) Необязательный класс события

Возвращает:
- **Object** (`object`) Объект для связывания вызовов методов
