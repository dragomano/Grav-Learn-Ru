---
title: Настройка (система)
metadata:
    description: 'Конфигурация основных системных параметров Grav CMS.'
taxonomy:
    category: docs
routes:
    aliases:
      - '/admin-panel/configuration-system'
process:
    twig: true
---

![Конфигурация админки](configuration.png?width=2530&classes=shadow)

Страница **Настройка** дает вам доступ к настройкам конфигурации **Система** и **Сайт** вашего сайта. Кроме того, вы можете просмотреть разбивку свойств вашего сервера по ряду областей, включая PHP, серверную среду и другие различные компоненты, которые определяют работу вашего сайта.

!! Конфигурация требует уровня доступа `access.admin.super` или `access.admin.configuration`.

Вкладка **Система** позволяет вам настроить параметры, найденные в файле `/user/config/system.yaml`. Эти настройки влияют на то, сколько основных системных функций Grav работает. Здесь можно настроить домашнюю страницу сайта, параметры кэширования и многое другое.

Эти настройки разделены на несколько разделов, каждый из которых посвящен определенному аспекту работы Grav.

Ниже приводится разбивка различных разделов конфигурации, которые появляются на вкладке **Система**.

### Содержание

![Конфигурация админки](configuration-system-content.png?width=1594&classes=shadow)

В этом разделе вы устанавливаете основные свойства обработки контента для вашего сайта. Здесь задаются домашняя страница, тема по умолчанию и различные другие параметры отображения содержимого.

[div class="table table-striped table-keycol"]
| Параметр                               | Описание                                                                                  |
| :-----                                 | :-----                                                                                    |
| **Главная страница**                   | Выберите страницу, которую хотите сделать главной страницей вашего сайта.                 |
| **Тема по умолчанию**                  | Устанавливает основную тему по умолчанию, используемую на вашем сайте.                    |
| **Обработка**                          | Управляйте обработкой страниц. Может устанавливаться для каждой страницы, а не глобально. |
| **Часовой пояс**                       | Заменить часовой пояс сервера по умолчанию.                                               |
| **Краткий формат даты**                | Установите краткий формат даты, который может использоваться темами.                      |
| **Длинный формат даты**                | Установите длинный формат даты, который может использоваться темами.                      |
| **Порядок по умолчанию**               | Страницы в списке будут отображаться в этом порядке, если он не переопределен.            |
| **Порядок сортировки по умолчанию**    | Направление страниц в списке.                                                             |
| **Количество страниц по умолчанию**    | Максимальное количество страниц по умолчанию в списке.                                    |
| **Публикация на основе даты**          | Автоматически (не) публиковать сообщения в зависимости от их даты.                        |
| **События**                            | Включение или отключение определенных событий. Отключение их может сломать плагины.       |
| **Перенаправить маршрут по умолчанию** | Автоматически перенаправлять на маршрут страницы по умолчанию.                            |
[/div]

### Языки

![Конфигурация админки](configuration-system-languages.png?width=1662&classes=shadow)

В этом разделе настраиваются многоязыковые функции.

[div class="table table-striped table-keycol"]
| Параметр                        | Описание                                                                          |
| :-----                          | :-----                                                                            |
| **Поддерживаемые языки**        | Список двухбуквенных кодов языков, разделенных запятыми (например, 'en, fr, de'). |
| **Поддержка перевода**          | Поддержка переводов в Grav, плагинах и темах.                                     |
| **Резервный перевод**           | Загрузка других переводов, если строк для активного языка не существует.          |
| **Активный язык в сессии**      | Хранить активный язык в сеансе пользователя.                                      |
| **Язык в редиректе на Home**    | Включать язык в перенаправлении на домашнюю страницу (/en).                       |
| **Маршрут в редиректе на Home** | Включать маршрут в перенаправлении на домашнюю страницу.                          |
[/div]

### Заголовки HTTP

![Конфигурация админки](configuration-system-http.png?width=1336&classes=shadow)

В этом разделе можно настроить параметры заголовка HTTP. Это полезно для браузерного кэширования и оптимизации.

[div class="table table-striped table-keycol"]
| Параметр                      | Описание                                                                                                         |
| :-----                        | :-----                                                                                                           |
| **Срок действия**             | Устанавливает заголовок истекает. Значение в секундах.                                                           |
| **Дата последнего изменения** | Устанавливает последний измененный заголовок, который может помочь оптимизировать кэширование прокси и браузера. |
| **ETag**                      | Устанавливает заголовок ETag, чтобы помочь определить, когда страница была изменена.                             |
| **Vary: Accept Encoding**     | Устанавливает заголовок *Vary: Accept Encoding*, чтобы помочь с кэшированием прокси и CDN.                       |
[/div]

### Markdown

![Конфигурация админки](configuration-system-markdown.png?width=932&classes=shadow)

Упоминание составляет большую часть содержания страниц Grav. В этом разделе вы можете включить опцию Markdown Extra, а также задать, как Grav обрабатывает Markdown.

[div class="table table-striped table-keycol"]
| Параметр                   | Описание                                                                                               |
| :-----                     | :-----                                                                                                 |
| **Markdown Extra**         | Включить поддержку по умолчанию для [Markdown Extra](https://michelf.ca/projects/php-markdown/extra/). |
| **Авто разрывы строк**     | Включите поддержку автоматического разрыва линии в разметке Markdown.                                  |
| **Авто URL ссылки**        | Включить автоматическое преобразование URL-адресов в HTML-гиперссылки.                                 |
| **Экранирование разметки** | Преобразование тегов разметки в HTML-сущности.                                                         |
[/div]

### Кэширование

![Конфигурация админки](configuration-system-caching.png?width=1364&classes=shadow)

Встроенная функция кэширования Grav помогает сделать его одним из самых быстрых вариантов CMS с плоским файлом. В этом разделе вы можете настроить основные функции кэширования вашего сайта.

[div class="table table-striped table-keycol"]
| Параметр                | Описание                                                                                 |
| :-----                  | :-----                                                                                   |
| **Кэширование**         | Глобальный переключатель ВКЛ/ВЫКЛ для включения/выключения кэширования Grav.             |
| **Метод проверки кэша** | Устанавливает метод проверки кэша. Опции: **File**, **Folder** и **None**.               |
| **Драйвер кэширования** | Выберите, какой драйвер кэша должен использовать Grav. `Auto detect` = поиск наилучшего. |
| **Префикс кэша**        | Идентификатор части ключа Grav.  Не меняйте, если не знаете, что делаете.                |
| **Время жизни**         | Устанавливает срок службы кэша в секундах. 0 = бесконечно.                               |
| **Сжатие Gzip**         | Включите GZip сжатие Grav страницы для повышения производительности.                     |
[/div]

### Шаблонизация Twig

![Конфигурация админки](configuration-system-twig.png?width=906&classes=shadow)

Этот раздел посвящен функции шаблонизации Grav Twig. Здесь вы можете настроить кэширование, отладку и изменение настроек обнаружения Twig.

[div class="table table-striped table-keycol"]
| Параметр                     | Описание                                                                                               |
| :-----                       | :-----                                                                                                 |
| **Кэширование Twig**         | Управляйте механизмом кэширования Twig. Оставьте это включенным для лучшей производительности.         |
| **Отладка Twig**             | Позволяет не загружать расширение отладчика Twig.                                                      |
| **Обнаружение изменений**    | Позволяет автоматически компилировать кэш Twig при обнаружении изменений в шаблонах.                   |
| **Экранирование переменных** | Автоэскейпы всех переменных. Может сломать ваш сайт.                                                   |
[/div]

### Активы

![Конфигурация админки](configuration-system-assets.png?width=1502&classes=shadow)

В этом разделе рассматривается обработка ресурсов, включая ресурсы CSS и JavaScript.

[div class="table table-striped table-keycol"]
| Параметр                                             | Описание                                                                                       |
| :-----                                               | :-----                                                                                         |
| **Объединять CSS**                                   | Конвейер CSS - это объединение нескольких ресурсов CSS в один файл.                            |
| **Минимизировать CSS**                               | Сокращать CSS во время конвейерной обработки.                                                  |
| **Минимизировать CSS (переопределение для Windows)** | Минимизировать переопределение для платформ Windows. По умолчанию false из-за ThreadStackSize. |
| **Переписать CSS**                                   | Переписывать любые относительные URL-адреса CSS во время конвейерной обработки.                |
| **Объединять JavaScript**                            | Конвейер JS - это объединение нескольких ресурсов JS в один файл.                              |
| **Минимизировать JavaScript**                        | Сокращать JS во время конвейерной обработки.                                                   |
| **Включить временные метки активов**                 | Включить метки времени активов.                                                                |
| **Коллекции**                                        | Добавьте отдельные коллекции активов.                                                          |
[/div]

### Обработчик ошибок

![Конфигурация админки](configuration-system-error.png?width=1336&classes=shadow)

Здесь вы можете настроить, как Grav будет обрабатывать сообщения об ошибках и отображать их. Это полезный инструмент при разработке сайта.

[div class="table table-striped table-keycol"]
| Параметр            | Описание                                                      |
| :-----              | :-----                                                        |
| **Выводить ошибки** | Показать полную страницу ошибок в стиле обратной трассировки. |
| **Логи ошибок**     | Записывать ошибки в папку `/logs`.                            |
[/div]

### Отладчик

![Конфигурация админки](configuration-system-debugger.png?width=950&classes=shadow)

Как и обработка ошибок, встроенные инструменты отладки Grav дают вам возможность находить и устранять проблемы. Это особенно полезно во время разработки.

[div class="table table-striped table-keycol"]
| Параметр                           | Описание                                                                |
| :-----                             | :-----                                                                  |
| **Отладчик**                       | Включить отладчик Grav и следующие настройки.                           |
| **Отладка Twig**                   | Включить отладку в шаблонах Twig.                                       |
| **Завершение открытых соединений** | Закрывать соединение перед вызовом `onShutdown()`. `false` для отладки. |
[/div]

### Медиа

![Конфигурация админки](configuration-system-media.png?width=1670&classes=shadow)

Этот раздел определяет, как Grav обрабатывает медиаконтент. Здесь настраиваются качество изображения и другие параметры обработки мультимедиа.

[div class="table table-striped table-keycol"]
| Параметр                               | Описание                                                                                                         |
| :-----                                 | :-----                                                                                                           |
| **Качество изображений по умолчанию**  | Качество изображения по умолчанию для использования при передискретизации или кэшировании изображений (85%).     |
| **Кэшировать все картинки**            | Пропускайте все изображения через систему кэширования Grav, даже если они не требуют манипуляций с медиа.        |
| **Отладка водяного знака изображения** | Показывать наложение поверх изображений, указывающее глубину пикселя изображения, например, при работе с Retina. |
| **Включить временные метки на медиа**  | Добавляет метку времени на основе даты последнего изменения к каждому элементу мультимедиа.                      |
[/div]

!! Кэширование изображений, которые уже были оптимизированы (за пределами Grav), может привести к тому, что выходной файл будет иметь гораздо больший размер файла, чем исходный. Это происходит из-за ошибки в библиотеке изображений Gregwar и не имеет прямого отношения к Grav (дополнительную информацию см. в этом [открытом выпуске](https://github.com/Gregwar/Image/issues/115)). Альтернативный вариант - установить для параметра «Кэшировать все изображения» значение `Нет`.

### Сессия

![Конфигурация админки](configuration-system-session.png?width=1184&classes=shadow)

В этом разделе вы можете включить поддержку сеанса, установить ограничения времени ожидания и имя файла cookie сеанса, используемого для обработки этой информации.

[div class="table table-striped table-keycol"]
| Параметр                    | Описание                                                                                                                                  |
| :-----                      | :-----                                                                                                                                    |
| **Инициализировать сессию** | Включите поддержку сессий в Grav.                                                                                                         |
| **Время ожидания**          | Устанавливает тайм-аут сеанса в секундах.                                                                                                 |
| **Имя**                     | Идентификатор, используемый для формирования имени файла cookie сеанса. Используйте только буквы, цифры, дефисы или символ подчеркивания. |
[/div]

### Дополнительно

![Конфигурация админки](configuration-system-advanced.png?width=1360&classes=shadow)

Этот раздел содержит расширенные параметры системы.

[div class="table table-striped table-keycol"]
| Параметр                | Описание                                                                |
| :-----                  | :-----                                                                     |
| **Абсолютный путь**       | Absolute or relative URLs for `base_url`.                                  |
| **Разделитель параметров** | Separater for passed parameters that can be changed for Apache on Windows. |
[/div]