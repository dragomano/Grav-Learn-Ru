---
title: ЧаВо
taxonomy:
    category: docs
process:
    twig: true
---

Этот FAQ предназначен для предоставления полезных руководств, советов и трюков, которые помогут вам получить максимальную отдачу от плагина админки.

### Ручная установка админки

Ручная установка не является рекомендуемым методом установки, однако всё ещё можно установить плагин админки вручную. В принципе, вам нужно загрузить каждый из следующих плагинов по отдельности:

* [admin](https://github.com/getgrav/grav-plugin-admin/archive/master.zip)
* [login](https://github.com/getgrav/grav-plugin-login/archive/master.zip)
* [form](https://github.com/getgrav/grav-plugin-form/archive/master.zip)
* [email](https://github.com/getgrav/grav-plugin-email/archive/master.zip)

Распакуйте каждый архивный файл в папку `user/plugins`, затем убедитесь, что папки переименованы только в `admin/`, `login/`, `form/` и `email/`. Затем следуйте **инструкциям по использованию ниже**.

### Добавление и управление пользователями

Когда вы впервые устанавливаете плагин администратора, вам будет предложено создать пользователя с правами администратора, когда вы укажете свой браузер на своем сайте. Это простая веб-форма, обеспечивающая создание хотя бы одного пользователя-администратора.

![Новый пользователь](../introduction/new-user.png?width=1009&classes=shadow)

Вы можете легко добавить других пользователей, но для этого потребуется немного поработать в терминале/командной строке. В своем терминале войдите в корень сайта Grav, на который вы хотите добавить пользователей, и введите следующую команду:

[prism classes="language-bash command-line"]
bin/plugin login newuser
[/prism]

![ЧаВо](faq_1.png?width=1009&classes=shadow)

Это инициирует серию подсказок, которые помогут вам создать нового пользователя. К ним относятся создание имени пользователя, пароля, адреса электронной почты и установка уровня разрешений нового пользователя.

!!!! Вам потребуется имя пользователя, содержащее от 3 до 16 символов, которые могут включать строчные буквы, цифры, символы подчеркивания и дефисы. В имени пользователя нельзя использовать прописные буквы, пробелы и специальные символы.

В какой-то момент в процессе создания вам будет предложено выбрать набор разрешений для нового пользователя. На данный момент есть три варианта:

[div class="table table-keycol"]
| Роль           | Описание                                                                                                                        |
| :-----         | :-----                                                                                                                          |
| Admin          | Предоставляет пользователю доступ к серверной части администратора. Эта роль не включает внешний доступ к защищенным страницам. |
| Site           | Предоставляет пользователю доступ ко всем страницам в интерфейсе. Это эквивалент вошедшего в систему пользователя.              |
| Admin and Site | Предоставляет пользователю доступ ко всему сайту, как к интерфейсу, так и к серверной части.                                    |
[/div]

Пользовательские данные хранятся в `SITE_ROOT/user/accounts/`, и каждому пользователю предоставляется файл **YAML**, содержащий информацию для входа в систему и другие данные. Вот пример данных, содержащихся в файле учетной записи пользователя. Например, содержимое `SITE_ROOT/user/accounts/tester.yaml` может быть таким:

[prism classes="language-yaml line-numbers"]
email: test@rockettheme.com
access:
  admin:
    login: true
    super: true
  site:
    login: true
fullname: 'Tester McTesting'
title: Admin
hashed_password: $2y$10$5RAUI6ZCISWR.4f0D6FILu3efYq3078ZX/.9vtAnZbjxS/4PXN/WW
[/prism]

!! Имя файла `tester.yaml` диктует имя пользователя `tester`

Вы можете редактировать эту информацию непосредственно в YAML-файле пользователя или выбрав свой аватар пользователя на боковой панели администратора. Это перенесет вас на страницу, где вы можете легко управлять информацией о пользователях.

![ЧаВо](faq_2.png?width=1009&classes=shadow)

!! Фотографии аватаров автоматически генерируются [Gravatar](https://gravatar.com), основываясь на адресе электронной почты пользователя.

По соображениям безопасности пароли пользователей хранятся в виде хэша. Если вы хотите изменить свой пароль, мы рекомендуем сделать это из администратора.

### Управление доступом

Каждый пользовательский файл yaml имеет свойство "доступ". Установив это свойство соответствующим образом, вы можете предоставить конкретному пользователю доступ только к определенной части администратора.

Вот объясненные в настоящее время поддерживаемые уровни доступа:

- `admin.login`: позволяет пользователю войти в систему с правами администратора
- `admin.super`: предоставляет пользователю полномочия суперадминистратора, предоставляя доступ ко всему интерфейсу и функциям администратора.
- `admin.pages`: позволяет пользователю просматривать страницы, редактировать их и добавлять новые
- `admin.main maintenance`: позволяет пользователю обновлять Grav со стороны администратора, проверять наличие обновлений и очищать кеш
- `admin.plugins`: позволяет пользователю получить доступ к функциям плагинов, редактировать настройки плагинов, отключать плагины или добавлять новые
- `admin.themes`: позволяет пользователю получить доступ к функциям тем, редактировать настройки темы, изменять темы и добавлять новые.
- `admin.statistics`: позволяет пользователю видеть статистику сайта
- `admin.cache`: позволяет пользователю очистить кэш

!! Cизменения, внесенные в файл user.yaml, пока этот пользователь вошел в систему, вступят в силу только после того, как он выйдет из системы и снова войдет в систему.

### Пользовательский URL-адрес админки

Один из способов защитить вашу админ-панель - скрыть ее местоположение. Для этого нужно изменить URL-адрес с

[prism classes="language-text"]
https://yourwebsite.com/admin
[/prism]

к чему-то более неоднозначному, о чем будет труднее угадать. Для этого вам нужно найти `admin.yaml`, который находится в папке `user/plugins/admin/`, и **скопировать его** в `user/config/plugins/admin.yaml`.

Затем измените строку `route: /admin` на что-нибудь более двусмысленное, например, `route: /myspecialplace`, таким образом, если вам нужно получить доступ к панели администратора вашего сайта, вы введете

[prism classes="language-text"]
https://yourwebsite.com/myspecialplace
[/prism]

### Автономный режим

![Офлайн](offline.png?width=1028&classes=shadow)

В случае, если ваш сервер теряет соединение с Интернетом, Grav Admin автоматически переходит в автономный режим. Этот режим обозначается уведомлением под нижним минимумом в верхнем левом углу окна администратора.

В автономном режиме администратор не будет пытаться получать обновления для CMS, плагинов или тем. Это предотвращает зависание и другие проблемы, которые в противном случае могли бы возникнуть из-за невозможности доступа к серверам обновлений.

После восстановления подключения к Интернету уведомление исчезнет, ​​и автономный режим автоматически отключится.
